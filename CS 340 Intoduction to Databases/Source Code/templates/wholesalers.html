<!-- Page to display wholesaler from database-->

{% extends 'base.html' %}



{% block head %}
<title>Wholesalers - FortySevenPharma</title>
<script language="JavaScript">
    function showform(dowhat) {

        // Code to dynamically display was adapted from 
        // Flask start app
        // Original repository: https://github.com/osu-cs340-ecampus/flask-starter-app
        // Forked from: https://github.com/gkochera/CS340-demo-flask-app
        // Date: 11/29/2023
        document.getElementById('browse').style.display = 'none';
        document.getElementById('insert').style.display = 'none';

        if(dowhat == 'insert') {
            document.getElementById('insert').style.display = 'block';
        } else if(dowhat == 'browse') {
            document.getElementById('browse').style.display = 'block';
        }
    }
    function newWholesaler() {
        showform('insert');
    }
</script>
{% endblock %}

{% block body %}
<body onload="showform('browse')">
    <div id="browse">
    <h2>Wholesaler Information</h2>

    <table class="greyGridTable">
        <thead>
        <tr>
            <th>Edit</th>
            <th>Wholesaler ID</th>
            <th>Name</th>
            <th>Contact Name</th>
            <th>Email</th>
            <th>Phone Number</th>
            <th>Address</th>
        </tr>
        </thead>
        <tbody>

            <!-- loop to dispplay current data from database about wholesalers -->
            {% for wholesaler in wholesaler_data %}
            <tr>
                <td><a href="/edit_wholesaler/{{ wholesaler['wholesalerID'] }}" class="btn btn-default">Edit</a></td>
                <td>{{ wholesaler['wholesalerID'] }}</td>
                <td>{{ wholesaler['wholesalerName'] }}</td>
                <td>{{ wholesaler['contactName'] if wholesaler['contactName'] else 'None' }}</td>
                <td>{{ wholesaler['contactEmail'] if wholesaler['contactEmail'] else 'None' }}</td>
                <td>{{ wholesaler['contactPhoneNumber'] if wholesaler['contactPhoneNumber'] else 'None' }}</td>
                <td>{{ wholesaler['address'] if wholesaler['address'] else 'None' }}</td>
            </tr>
            {% endfor %}
        </tbody>
        </table>

        <!-- Add a new wholesaler link-->
        <p><a href="#" class="btn-add" onClick="newWholesaler()">Add New Wholesaler</a></p>
    </div>

    <!-- show form to add a wholesaler -->
    <div id="insert" style="display: none;">
        <h2>Add Wholesaler</h2>
        <form action="/add_wholesaler" method="post">
        <fieldset>
            <p>
                <label>Wholesaler Name</label>
                <input type="text" id="wholesalerName" name="wholesalerName" required/>
            </p>
            <p>
                <label>Contact Name</label>
                <input type="text" id="contactName" name="contactName"/>
            </p>
            <p>
                <label>Email</label>
                <input type="email" id="contactEmail" name="contactEmail"/>
            </p>
            <p>
                <label>Phone Number</label>
                <input type="tel" id="contactPhoneNumber" name="contactPhoneNumber"/>
            </p>
            <p>
                <label>Address</label>
                <input type="text" id="address" name="address"/>
            </p>

            <!-- submit button -->
            <input type="submit" value="Add Wholesaler" class="btn-add">
            <input type="button" value="Cancel" onclick="showform('browse')" class="btn-add">
        </fieldset>
        </form>
    </div>
{% endblock %}
